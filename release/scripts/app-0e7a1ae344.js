angular.module("controllers",[]).controller("NavController",["$scope",function(o){console.log("侧边栏公共样式"),o.navs=[{link:"#/today",text:"今日一刻",icon:"icon-home"},{link:"#/older",text:"往期内容",icon:"icon-file-empty"}]}]).controller("TodayController",["$scope","$http","$filter","$rootScope",function(o,e,t,l){console.log("启动了1"),l.title="今日一刻",l.index=0,l.loaded=!1;var r=t("date")(new Date,"yyyy-MM-dd");e({url:"./api/today.php",method:"get",params:{today:r}}).success(function(e){console.log(e),l.loaded=!0,o.date=e.date,o.posts=e.posts})}]).controller("OlderController",["$scope","$http","$rootScope",function(o,e,t){console.log("启动了2"),t.title="往期内容",t.index=1,t.loaded=!1,e({url:"./api/older.php",method:"get"}).success(function(e){console.log(e),t.loaded=!0,o.date=e.date,o.posts=e.posts})}]),angular.module("Directives",[]).directive("loading",function(){return{restrict:"A",replace:!0,template:'<img src="">'}});var Yike=angular.module("Yike",["ngRoute","controllers","Directives"]);Yike.config(["$routeProvider",function(o){o.when("/today",{templateUrl:"./views/today.html",controller:"TodayController"}).when("/older",{templateUrl:"./views/older.html",controller:"OlderController"}).otherwise({redirectTo:"/today"})}]),Yike.run(["$rootScope",function(o){o.collapsed=!1,o.toggle=function(){o.collapsed=!o.collapsed;var e=document.querySelectorAll(".navs dd");if(o.collapsed){console.log("打开");for(var t=0;t<e.length;t++)e[t].style.transform="translate(0)",e[t].style.transitionDelay="0.2s",e[t].style.transitionDuration=.15*(t+1)+"s"}else{console.log("关闭");for(var l=e.length-1;l>=0;l--)e[l].style.transform="translate(-100%)",e[l].style.transitionDelay="",e[l].style.transitionDuration=.15*(e.length-l)+"s"}}}]);